{% extends 'quotes/base.html' %}

{% block title %}Slashdot Quotes Database{% endblock %}

{% block content %}
<h1>Slashdot Quotes Database</h1>
<p>This is a simple webinterface for a database containing quotes gathered
from the <a href="http://slashdot.org/">Slashdot website</a>.</p>
<p>This database contains <span class="bold">{{ total_quotes }}</span> quotes.</p>
<hr />
<span style="float: right;">
  <div class="btn-group">
    {% if random %}
    <a href="{% url 'quotes.views.random' %}"
       class="btn btn-success">Reload<i class="icon-refresh icon-white"></i></a>
    {% endif %}
    <a
       {% if not random %}href="{% url 'quotes.views.random' %}"
       {% else %}href="javascript:void(0);"
       {% endif %}
       class="btn btn-primary {% if random %}disabled{% endif %}">Random
      <i class="icon-random icon-white"></i>
    </a>
    <a
       href="{% url 'quotes.views.index' %}"
       class="btn {% if index and not search %}disabled{% endif %}">Latest<i class="icon-chevron-up"></i></a>
  </div>
</span>
<div>
  <div>
    <form name="search-form" class="form-search" method="GET" action="{% url 'quotes.views.index' %}">
      <div class="input-append">
	<input type="text" class="search-query input-xlarge" name="search" value="{{ search }}" placeholder="Search..." />
    <button type="submit" class="btn btn-inverse"><i class="icon-white icon-search"></i></button>
      </div>
    </form>
  </div>
  <div style="clear: both;" />
  {% if quotes %}
  {% for quote in quotes %}
  <div class="quote" style="width: 100%;">
    <div style="float: right; color: #ddd;">
      First seen {{ quote.created|timesince }} ago
    </div>
    <pre>{{ quote.quote }}</pre>
    <div style="clear: both;"></div>
  </div>
  {% endfor %}
  {% if random %}
    <a href="{% url 'quotes.views.random' %}" class="btn btn-reload btn-block">
      Reload
      <i class="icon-refresh"></i>
    </a>
  {% endif %}
  {% if older %}
  <a style="margin-left: auto; margin-right: auto;" class="btn btn-block" href="{% url 'quotes.views.index' pagenext %}">Older</a>
  {% endif %}
  <div style="margin-bottom: 20px; width: 100%;" />
  {% else %}
  <p>No quotes in the database.</p>
  {% endif %}
</div>
{% endblock %}
